<!doctype html>
<html lang='en'>
<head>
  <meta charset='utf-8' />
  <title>Multiple Events</title>
  <style>
    div {
      float: left;
      height: 50px;
      margin: 0 5px 5px 0;
      width: 50px;
    }
  </style>
  <script>
    var COLORS = {
      timeouts: {},

      getRandomColor: function() {

        function randomNum(){
          //Math.random() returns a number between 0 - inclusive 1 - exclusive
          return Math.floor(Math.random()*255);
        }

        return "rgb("+ randomNum() + ", "+ randomNum() + ", " + randomNum() + ")";
      },

      init: function init() {
        var ele,
            self = this;

        for ( var i = 0; i < 10000; i++ ) {
          ele = document.createElement( "div" );
          //this bcoz its in a globa namespace and will look for getRandomColor unless this is specified
          ele.style.backgroundColor = this.getRandomColor();
          ele.setAttribute( "id", "div" + i );
          ele.addEventListner("mouseover", function(){
            // In the event handler this is the element the event was fired on
            //Only inside the event handler and that is why we can ref self cause outside this = COLORS
            console.dir(this);
            self.fade(this,"out");
          },false);

          document.body.appendChild( ele );
        }

      },

      fade: function fade( ele, dir ) {
        dir = dir || "in";
        var alpha = window.getComputedStyle( ele ).opacity,
            self = this;
        clearTimeout( self.timeouts[ele.id] );

        if ( dir === "out" ) {
          if ( alpha >= .05 ) {

          }
          else {
            ele.style.opacity = 0;
          }
        }
        else if ( dir === "in" ) {
          if ( alpha <= .95 ) {

          }
          else {
            ele.style.opacity = 1;
          }
        }
      }
    }
  </script>
</head>
<!-- COLORS is all thats exposes to gobal namespace and the rest is inserted in COLORS-->
<body onload="COLORS.init();">
  <h1>Colors!</h1>
</body>
</html>
